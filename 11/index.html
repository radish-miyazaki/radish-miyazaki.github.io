<!DOCTYPE html>
<html lang="ja-jp">
  <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>（自分が知る限りで）最古のカレンダーソフトウェア: cal | method_missing(*)</title>
  <link rel="stylesheet" href="https://radish-miyazaki.github.io/assets/css/post.css" />
  <script defer src="https://radish-miyazaki.github.io/assets/js/lbox.js"></script>
  
  <link rel="stylesheet" href="https://radish-miyazaki.github.io/assets/css/common.css" />
  <link rel="icon" type="image/png" href="https://radish-miyazaki.github.io/assets/icons/ruby.png" />
  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://radish-miyazaki.github.io/post-cover.png"/>

<meta name="twitter:title" content="（自分が知る限りで）最古のカレンダーソフトウェア: cal"/>
<meta name="twitter:description" content="これは「タイムラボ Advent Calendar 2024」の 7 日目の記事です。 https://adventar.org/calendars/10585
はじめに 前回に引き続いて、今年初の投稿です。
今年も、業務委託で一緒にお仕事をさせていただいている 株式会社タイムラボ のアドベントカレンダーに参加することになりました！
タイムラボにはエンジニアとして参画しており、フロントエンドとバックエンドを担当しています！
今回、色々何を書くか悩んだのですが、普段カレンダーのアプリケーション開発に携わっている者として知っておくべき、自分が知っている中で最古カレンダーソフトウェア cal コマンドを紹介したいと思います！
なるべくエンジニア以外の方も読めるように、噛み砕いて説明していますので、最後まで読んでいただけると嬉しいです！
なお、筆者は MacOS を利用しているので、今回の記事では GNU 版ではなく、BSD（FreeBSD）版を取り扱います。
cal コマンドとは cal コマンドは、いわゆる Linux コマンドの一種で、ターミナル上にカレンダーを表示するコマンドです。
引数を何も渡さずに実行すると、今月のカレンダーを表示します。
$ cal 12月 2024 日 月 火 水 木 金 土 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 その歴史は古く、man コマンド（コマンドのマニュアルを表示するコマンド）の HISTORY を確認すると、"/>

  <meta property="og:title" content="（自分が知る限りで）最古のカレンダーソフトウェア: cal" />
<meta property="og:description" content="これは「タイムラボ Advent Calendar 2024」の 7 日目の記事です。 https://adventar.org/calendars/10585
はじめに 前回に引き続いて、今年初の投稿です。
今年も、業務委託で一緒にお仕事をさせていただいている 株式会社タイムラボ のアドベントカレンダーに参加することになりました！
タイムラボにはエンジニアとして参画しており、フロントエンドとバックエンドを担当しています！
今回、色々何を書くか悩んだのですが、普段カレンダーのアプリケーション開発に携わっている者として知っておくべき、自分が知っている中で最古カレンダーソフトウェア cal コマンドを紹介したいと思います！
なるべくエンジニア以外の方も読めるように、噛み砕いて説明していますので、最後まで読んでいただけると嬉しいです！
なお、筆者は MacOS を利用しているので、今回の記事では GNU 版ではなく、BSD（FreeBSD）版を取り扱います。
cal コマンドとは cal コマンドは、いわゆる Linux コマンドの一種で、ターミナル上にカレンダーを表示するコマンドです。
引数を何も渡さずに実行すると、今月のカレンダーを表示します。
$ cal 12月 2024 日 月 火 水 木 金 土 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 その歴史は古く、man コマンド（コマンドのマニュアルを表示するコマンド）の HISTORY を確認すると、" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://radish-miyazaki.github.io/11/" /><meta property="og:image" content="https://radish-miyazaki.github.io/post-cover.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-12-07T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-12-07T00:00:00+00:00" />


</head>
  <body>
    <main>
      <header>
  <a class="site-title" href="https://radish-miyazaki.github.io">method_missing(*)</a>
</header>

      <section class="article">
        <div class="article-header">
          <h2 class="article-title">（自分が知る限りで）最古のカレンダーソフトウェア: cal</h2>
          <small class="date">2024-12-07 (Sat)</small>
          <div class="tags">
            
            <a href="https://radish-miyazaki.github.io/tags/linux" class="tag">linux</a>
            
            <a href="https://radish-miyazaki.github.io/tags/bsd" class="tag">bsd</a>
            
          </div>
        </div>
        <div class="content"><p><strong>これは「タイムラボ Advent Calendar 2024」の 7 日目の記事です。</strong>
<a href="https://adventar.org/calendars/10585">https://adventar.org/calendars/10585</a></p>
<h2 id="はじめに">はじめに</h2>
<p><a href="https://radish-miyazaki.github.io/10/">前回</a>に引き続いて、<strong>今年初の投稿です</strong>。</p>
<p>今年も、業務委託で一緒にお仕事をさせていただいている <a href="https://timelab.jp/">株式会社タイムラボ</a> のアドベントカレンダーに参加することになりました！</p>
<p>タイムラボにはエンジニアとして参画しており、フロントエンドとバックエンドを担当しています！</p>
<p>今回、色々何を書くか悩んだのですが、普段カレンダーのアプリケーション開発に携わっている者として知っておくべき、自分が知っている中で最古カレンダーソフトウェア <code>cal</code> コマンドを紹介したいと思います！</p>
<p>なるべくエンジニア以外の方も読めるように、噛み砕いて説明していますので、最後まで読んでいただけると嬉しいです！</p>
<p>なお、筆者は MacOS を利用しているので、今回の記事では <strong>GNU 版ではなく、BSD（FreeBSD）版を取り扱います</strong>。</p>
<h2 id="cal-コマンドとは"><code>cal</code> コマンドとは</h2>
<p><code>cal</code> コマンドは、いわゆる Linux コマンドの一種で、ターミナル上にカレンダーを表示するコマンドです。</p>
<p>引数を何も渡さずに実行すると、今月のカレンダーを表示します。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cal
      12月 <span style="color:#ae81ff">2024</span>
日 月 火 水 木 金 土
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>
 <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span>
<span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span>
<span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span>
<span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">31</span>
</code></pre></div><p>その歴史は古く、<code>man</code> コマンド（コマンドのマニュアルを表示するコマンド）の HISTORY を確認すると、</p>
<blockquote>
<p>A cal command appeared in Version 1 AT&amp;T UNIX.</p>
</blockquote>
<p>と記載があるので、1971 年頃（半世紀以上前）に登場したことが分かります。</p>
<p>なお、<code>cal</code> を更に拡張した、後発の <code>ncal</code> コマンドも存在します。
こちらは <code>cal</code> よりもオプションが多いのに加え、デフォルトの月の表示形式が縦向きになっています。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ ncal
    12月 <span style="color:#ae81ff">2024</span>
月      <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">30</span>
火      <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">31</span>
水      <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">25</span>
木      <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">26</span>
金      <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">27</span>
土      <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">28</span>
日   <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">29</span>
</code></pre></div><p>これらのコマンドは柔軟に切り替えることができ、<code>cal</code> に <code>-N</code> オプションを付けると <code>ncal</code> に、逆に <code>ncal</code> に <code>-C</code> オプションを付けると <code>cal</code> に切り替えることができます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cal -N
    12月 <span style="color:#ae81ff">2024</span>
月      <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">30</span>
火      <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">31</span>
水      <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">25</span>
木      <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">26</span>
金      <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">27</span>
土      <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">28</span>
日   <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">29</span>

$ ncal -C
      12月 <span style="color:#ae81ff">2024</span>
日 月 火 水 木 金 土
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>
 <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span>
<span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span>
<span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span>
<span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">31</span>
</code></pre></div><p>また、これは <code>cal</code> コマンドだけ特殊なのですが、<a href="https://qiita.com/takano32/items/db7cb6c8b20a78bba05f">少なくとも 1 つの文字を大文字にして実行すると、<code>ncal</code> に切り替わります</a>。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ Cal
    12月 <span style="color:#ae81ff">2024</span>
月      <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">30</span>
火      <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">31</span>
水      <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">25</span>
木      <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">26</span>
金      <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">27</span>
土      <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">28</span>
日   <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">29</span>
</code></pre></div><h2 id="様々なオプション">様々なオプション</h2>
<p><code>cal</code> には様々なオプションが存在しますが、ここでは一部のみを紹介します。</p>
<p>ぜひこの記事を読んでいる方もターミナルを立ち上げて、実際に実行してみると面白いと思います（MacOS の場合はデフォルトでインストールされてます）！</p>
<h3 id="ある年のカレンダーを表示する">ある年のカレンダーを表示する</h3>
<p><code>cal</code> コマンドに直接数字（1 ~ 9999）を渡すと、その年のカレンダーを表示します。</p>
<p>たとえば、<code>$ cal 1</code>（<code>$ cal -y 1</code>）を実行すると、西暦 1 年のカレンダーが表示されます。</p>
<p>年は <code>-y</code> オプションで渡すことも可能です。</p>
<p>（場所を取るので出力結果は省略します&hellip;）</p>
<h3 id="ある年月のカレンダーを表示する">ある年月のカレンダーを表示する</h3>
<p><code>cal</code> に 2 つの数字を直接渡すと、1 つ目の数字を月、2 つ目の数字を年とするカレンダーを表示します。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cal <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1994</span>
      2月 <span style="color:#ae81ff">1994</span>
日 月 火 水 木 金 土
       <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>
 <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span>
<span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span>
<span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span>
<span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span>
</code></pre></div><p>月は <code>-m</code> オプションで渡すことが可能なため、<code>$ cal -m 2 1994</code>を実行しても、上記の結果を得ることができます。</p>
<p>ただし、<code>-y</code> と <code>-m</code> を同時に利用することはできません。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cal -m <span style="color:#ae81ff">2</span> -y <span style="color:#ae81ff">1994</span>
cal: -y together with -m is not supported.
</code></pre></div><h3 id="先月と次月のカレンダーも一緒に表示する">先月と次月のカレンダーも一緒に表示する</h3>
<p><code>-3</code> オプションをつけると、先月と今月、次月の 3 つのカレンダーをまとめて表示することができます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cal -3
      11月 <span style="color:#ae81ff">2024</span>              12月 <span style="color:#ae81ff">2024</span>              1月 <span style="color:#ae81ff">2025</span>
日 月 火 水 木 金 土  日 月 火 水 木 金 土  日 月 火 水 木 金 土
                <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>   <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>            <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>
 <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span>   <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span>   <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span>
<span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span>  <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span>
<span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span>  <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span>  <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span>
<span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span> <span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span>  <span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">31</span>
</code></pre></div><h3 id="現在の月の後前に続く月数を指定して表示">現在の月の後（前）に続く月数を指定して表示</h3>
<p><code>-A</code> オプションに数字を渡すと、現在の月に続く指定した個数分の月が表示されます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cal -A <span style="color:#ae81ff">1</span>
      12月 <span style="color:#ae81ff">2024</span>              1月 <span style="color:#ae81ff">2025</span>
日 月 火 水 木 金 土  日 月 火 水 木 金 土
 <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>            <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>
 <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span>   <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span>
<span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span>
<span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span>  <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span>
<span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">31</span>              <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span> <span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">31</span>
</code></pre></div><p>同様に <code>-B</code> オプションに数字を渡すと、現在の月の前の指定した個数分の月が表示されます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cal -B <span style="color:#ae81ff">1</span>
      11月 <span style="color:#ae81ff">2024</span>              12月 <span style="color:#ae81ff">2024</span>
日 月 火 水 木 金 土  日 月 火 水 木 金 土
                <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>   <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>
 <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span>   <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span>
<span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span>  <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span>
<span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span>  <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span>
<span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span> <span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span>  <span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">31</span>
</code></pre></div><p>これらのオプションは組み合わせることもできるため、<code>-A</code> と <code>-B</code> にそれぞれ 1 を指定すると、<code>-3</code> を指定した場合と同じ結果を得ることができます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ cal -A <span style="color:#ae81ff">1</span> -B <span style="color:#ae81ff">1</span>
      11月 <span style="color:#ae81ff">2024</span>              12月 <span style="color:#ae81ff">2024</span>              1月 <span style="color:#ae81ff">2025</span>
日 月 火 水 木 金 土  日 月 火 水 木 金 土  日 月 火 水 木 金 土
                <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>   <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>            <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>
 <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span>   <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span>   <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span>
<span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span>  <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span>
<span style="color:#ae81ff">17</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span>  <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span>  <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span>
<span style="color:#ae81ff">24</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span> <span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span>  <span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">31</span>              <span style="color:#ae81ff">26</span> <span style="color:#ae81ff">27</span> <span style="color:#ae81ff">28</span> <span style="color:#ae81ff">29</span> <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">31</span>
</code></pre></div><h2 id="グレゴリオ暦への切り替えの考慮">グレゴリオ暦への切り替えの考慮</h2>
<p>話は変わりますが、現在我々が使っている西暦は <a href="https://ja.wikipedia.org/wiki/%E3%82%B0%E3%83%AC%E3%82%B4%E3%83%AA%E3%82%AA%E6%9A%A6">グレゴリオ暦</a> であり、1582 年 10 月にローマ教皇 <a href="https://ja.wikipedia.org/wiki/%E3%82%B0%E3%83%AC%E3%82%B4%E3%83%AA%E3%82%A6%E3%82%B913%E4%B8%96_(%E3%83%AD%E3%83%BC%E3%83%9E%E6%95%99%E7%9A%87)">グレゴリウス 13 世</a> によって導入されたものです。</p>
<p>導入された意図としては、それまで採用されていた <a href="https://ja.wikipedia.org/wiki/%E3%83%A6%E3%83%AA%E3%82%A6%E3%82%B9%E6%9A%A6">ユリウス暦</a> と 実際の <a href="https://ja.wikipedia.org/wiki/%E5%A4%AA%E9%99%BD%E5%B9%B4">太陽年</a> との誤差を埋めるためです。</p>
<p>この導入により、10 月の日付は 11 日繰り上がり、10/4(木) の次は 10/15(金) となっていました。</p>
<p><code>ncal</code> コマンドでもこのことは考慮されており、<code>-p</code> オプションをつけると、各国の暦がどのタイミングでグレゴリオ暦に切り替わったかを確認することができます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ ncal -p
 AL Albania        1912-11-30      IS Iceland        1700-11-16
 AT Austria        1583-10-05      IT Italy          1582-10-04
 ...<span style="color:#f92672">(</span>省略<span style="color:#f92672">)</span>...
</code></pre></div><p>また、<code>-s</code> で国名コード（上記の <code>-p</code> で表示される 2 つの大文字アルファベット）を指定するとその国のカレンダーを確認することができます。
たとえばイタリア（<code>IT</code>）を指定すると、 1582 年 10 月のカレンダーは以下のようになっており、切り替わっているのを確認できます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ ncal -s IT <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">1582</span>
    10月 <span style="color:#ae81ff">1582</span>
月   <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">25</span>
火   <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">26</span>
水   <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">27</span>
木   <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">28</span>
金  <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">29</span>
土  <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">30</span>
日  <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">31</span>
</code></pre></div><h2 id="日本のグレゴリオ暦の導入">日本のグレゴリオ暦の導入</h2>
<p>日本では 1872 年（明治 5 年） 12 月 2 日に既存の <a href="https://ja.wikipedia.org/wiki/%E5%A4%A9%E4%BF%9D%E6%9A%A6">天保暦</a> を廃止し、グレゴリオ暦を導入しました（<a href="https://ja.wikipedia.org/wiki/%E6%98%8E%E6%B2%BB%E6%94%B9%E6%9A%A6">明治改暦</a>）。</p>
<p>これにより、12 月 2 日の次が 1873 年元旦になりました。</p>
<p><code>ncal</code> でもこのことは考慮されているはずですが、<code>ncal -p</code> で確認すると以下のように <code>1918-12-18</code> と記載されています。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ ncal -p
 AL Albania        1912-11-30      IS Iceland        1700-11-16
 AT Austria        1583-10-05      IT Italy          1582-10-04
 AU Australia      1752-09-02      JP Japan          1918-12-18
 ...<span style="color:#f92672">(</span>省略<span style="color:#f92672">)</span>...
</code></pre></div><p>実際に 1872 年 12 月のカレンダーを見ても、日付は飛んでいませんでした。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ ncal -s JP <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">1872</span>
    12月 <span style="color:#ae81ff">1872</span>
月      <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">25</span>
火      <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">19</span> <span style="color:#ae81ff">26</span>
水      <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">27</span>
木      <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">28</span>
金   <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">29</span>
土   <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">30</span>
日   <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">17</span> <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">31</span>
</code></pre></div><p>逆に 1918 年 12 月のカレンダーを見ると、日付が飛んでいるのが確認できます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ ncal -s JP <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">1918</span>
    12月 <span style="color:#ae81ff">1918</span>
月      <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">17</span>
火      <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">18</span>
水      <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">12</span>
木      <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">13</span>
金      <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">14</span>
土   <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">15</span>
日   <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">9</span> <span style="color:#ae81ff">16</span>
</code></pre></div><p>何故この日付になっているのか全く理由が分からなかったので、もしこの記事をご覧の方で分かる方が居ましたら、筆者の <a href="https://x.com/ruby_engineer">X</a> まで連絡をいただけますと幸いです 🙇</p>
<h3 id="追記-">追記 ①</h3>
<p>同じような疑問を持って、深堀りした方のブログ記事を見つけたので参考に掲載します。</p>
<p><a href="https://memo.furyutei.com/entry/20150213/1423824322">https://memo.furyutei.com/entry/20150213/1423824322</a></p>
<h2 id="所感">所感</h2>
<p>最後まで見ていただいてありがとうございました。</p>
<p>相変わらず誰向けの記事かいまいち分かりませんが、少しでも楽しんでいただけたら幸いです。</p>
<p><code>cal</code> / <code>ncal</code> コマンドの存在自体は前から知っていたのですが、利用するシーンもなかなか無かったので、今回改めて色々調べることで、豊富なオプションがあったり、一部トリッキーな動作があったりと様々な発見があって面白かったです。</p>
<p>今回は FreeBSD 版のみ触ったので、次回は GNU 版も触ってみたり、<a href="https://github.com/freebsd/freebsd-src/blob/main/usr.bin/ncal/ncal.c">実際に公開されているコマンドの実装</a> を解読してみようと思います。</p>
</div>
      </section>
      <footer>
  <p>&copy; 2024 Radish All rights reserved. </p>
</footer>
    </main>
  </body>
</html>
